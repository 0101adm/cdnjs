(function(a){a.fn.flipCounter=function(e){var o=false;var r=false;var k=false;var h={number:0,numIntegralDigits:1,numFractionalDigits:0,digitClass:"counter-digit",counterFieldName:"counter-value",digitHeight:40,digitWidth:30,imagePath:"img/flipCounter-medium.png",easing:b,duration:10000,onAnimationStarted:false,onAnimationStopped:false,onAnimationPaused:false};var u={init:function(w){return this.each(function(){k=a(this);var y=a.extend(h,w);var x=k.data("flipCounter");w=a.extend(x,y);k.data("flipCounter",w);if(w.number===false||w.number==0){(g()!==false)?w.number=g():w.number=0;l("number",w.number)}l("animating",false);k.bind("startAnimation",function(A,z){q(z)});k.bind("pauseAnimation",function(z){f()});k.bind("stopAnimation",function(z){v()});j();s()})},renderCounter:function(w){return this.each(function(){k=a(this);l("number",w);s()})},setNumber:function(w){return this.each(function(){k=a(this);l("number",w);s()})},getNumber:function(){var w=false;this.each(function(){k=a(this);w=t("number")});return w},startAnimation:function(w){return this.each(function(){k=a(this);k.trigger("startAnimation",w)})},stopAnimation:function(){return this.each(function(){k=a(this);k.trigger("stopAnimation")})},pauseAnimation:function(){return this.each(function(){k=a(this);k.trigger("pauseAnimation")})}};if(u[e]){return u[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return u.init.apply(this,arguments)}else{a.error("Method "+e+" does not exist on jQuery.flipCounter")}}function t(w){var y=k.data("flipCounter");var x=y[w];if(typeof x!=="undefined"){return x}return false}function l(w,y){var x=k.data("flipCounter");x[w]=y;k.data("flipCounter",x)}function n(){if(k.children('[name="'+t("counterFieldName")+'"]').length<1){k.append('<input type="hidden" name="'+t("counterFieldName")+'" value="'+t("number")+'" />')}var w=c();var x=m().length;while(x!=w){if(x>w){k.prepend('<span class="'+t("digitClass")+'" style="'+o+r["0"]+'">0</span>')}else{if(x<w){k.children("."+t("digitClass")+":nth-child(1)").remove()}}w=c()}}function s(){n();var w=m();var x=p();var y=0;a.each(x,function(z,A){digit=w.toString().charAt(y);a(this).attr("style",o+r[digit]);a(this).text(digit.toString());y++});d()}function j(){o="height:"+t("digitHeight")+"px;width:"+t("digitWidth")+"px;background-image:url('"+t("imagePath")+"');background-repeat:no-repeat;text-indent: -999em;display:inline-block;";r={"1":"background-position: "+t("digitWidth")*0+"px 0px;","2":"background-position: -"+t("digitWidth")*1+"px 0px;","3":"background-position: -"+t("digitWidth")*2+"px 0px;","4":"background-position: -"+t("digitWidth")*3+"px 0px;","5":"background-position: -"+t("digitWidth")*4+"px 0px;","6":"background-position: -"+t("digitWidth")*5+"px 0px;","7":"background-position: -"+t("digitWidth")*6+"px 0px;","8":"background-position: -"+t("digitWidth")*7+"px 0px;","9":"background-position: -"+t("digitWidth")*8+"px 0px;","0":"background-position: -"+t("digitWidth")*9+"px 0px;",".":"background-position: -"+t("digitWidth")*10+"px 0px;","-":"background-position: -"+t("digitWidth")*11+"px 0px;"}}function p(){return k.children("."+t("digitClass"))}function c(){return p().length}function g(){var w=parseFloat(k.children('[name="'+t("counterFieldName")+'"]').val());if(w==w==false){return false}return w}function d(){k.children('[name="'+t("counterFieldName")+'"]').val(t("number"))}function m(){var A=t("number");if(typeof A!=="number"){a.error("Attempting to render non-numeric value.");return"0"}var z="";if(A>=0){var w=t("numIntegralDigits");var x=w-A.toFixed().toString().length;for(var y=0;y<x;y++){z+="0"}z+=A.toFixed(t("numFractionalDigits"))}else{z="-"+Math.abs(A.toFixed(t("numFractionalDigits")))}return z}function q(x){if(typeof x=="undefined"&&false==t("animating")){return false}if(typeof x!=="undefined"){if(typeof x.easing=="function"){l("easing",x.easing)}if(typeof x.onAnimationStarted=="function"){l("onAnimationStarted",x.onAnimationStarted)}if(typeof x.onAnimationStopped=="function"){l("onAnimationStopped",x.onAnimationStopped)}if(typeof x.onAnimationPaused=="function"){l("onAnimationPaused",x.onAnimationPaused)}if(typeof x.duration=="number"){l("duration",x.duration)}}if(t("paused")===true){l("paused",false);l("animating",true);l("interval",setInterval(i,1))}else{l("start_number",t("number"));l("end_number",x.number);l("time",0);l("duration",t("duration")/10);l("animating",true);l("interval",setInterval(i,1))}var w=t("onAnimationStarted");if(typeof w=="function"){w.call(k,k)}}function i(){var A=t("time");var w=t("start_number");var x=t("end_number")-w;var z=t("duration");var B=t("easing");var y=B.apply(k,[false,A,w,x,z]);l("number",y);s();if(A>=z){v()}l("time",A+1)}function v(){if(true!==t("animating")){return false}clearInterval(t("interval"));l("number",t("end_number"));l("start_number",null);l("end_number",null);l("timer",0);l("animating",false);var w=t("onAnimationStopped");if(typeof w=="function"){w.call(k,k)}}function f(){if(true!==t("animating")){return false}l("paused",true);clearInterval(t("interval"));var w=t("onAnimationPaused");if(typeof w=="function"){w.call(k,k)}}function b(y,z,w,B,A){return z/A*B+w}}})(jQuery);