define(function(f,c,g){var e=f("./element_generator");var b=f("./add_editor_menu_options").addEditorMenuOptions;var a=f("./get_set_functions").getSetFunctions;g.exports.generateSettingsMenu=function d(i){var k=[];function l(){k.sort(function(q,p){var o=q.getAttribute("contains");var r=p.getAttribute("contains");return o.localeCompare(r)})}function h(){var o=document.createElement("div");o.setAttribute("id","ace_settingsmenu");k.forEach(function(p){o.appendChild(p)});return o}function m(r,o,q,s){var p;var t=document.createElement("div");t.setAttribute("contains",q);t.setAttribute("class","ace_optionsMenuEntry");t.setAttribute("style","clear: both;");t.appendChild(e.createLabel(q.replace(/^set/,"").replace(/([A-Z])/g," $1").trim(),q));if(Array.isArray(s)){p=e.createSelection(q,s,o);p.addEventListener("change",function(v){try{i.menuOptions[v.target.id].forEach(function(w){if(w.textContent!==v.target.textContent){delete w.selected}});r[v.target.id](v.target.value)}catch(u){throw new Error(u)}})}else{if(typeof s==="boolean"){p=e.createCheckbox(q,s,o);p.addEventListener("change",function(v){try{r[v.target.id](!!v.target.checked)}catch(u){throw new Error(u)}})}else{p=e.createInput(q,s,o);p.addEventListener("change",function(v){try{if(v.target.value==="true"){r[v.target.id](true)}else{if(v.target.value==="false"){r[v.target.id](false)}else{r[v.target.id](v.target.value)}}}catch(u){throw new Error(u)}})}}p.style.cssText="float:right;";t.appendChild(p);return t}function n(r,s,o,q){var t=i.menuOptions[r];var p=s[q]();if(typeof p=="object"){p=p.$id}t.forEach(function(u){if(u.value===p){u.selected="selected"}});return m(s,o,r,t)}function j(r){var q=r.functionName;var t=r.parentObj;var o=r.parentName;var u;var p=q.replace(/^set/,"get");if(i.menuOptions[q]!==undefined){k.push(n(q,t,o,p))}else{if(typeof t[p]==="function"){try{u=t[p]();if(typeof u==="object"){u=u.$id}k.push(m(t,o,q,u))}catch(s){}}}}b(i);a(i).forEach(function(o){j(o)});l();return h()}});