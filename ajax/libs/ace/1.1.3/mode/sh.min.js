define(function(c,f,a){var g=c("../lib/oop");var e=c("./text").Mode;var h=c("../tokenizer").Tokenizer;var d=c("./sh_highlight_rules").ShHighlightRules;var b=c("../range").Range;var j=c("./folding/cstyle").FoldMode;var i=function(){this.HighlightRules=d;this.foldingRules=new j()};g.inherits(i,e);(function(){this.lineCommentStart="#";this.getNextLineIndent=function(q,m,o){var l=this.$getIndent(m);var p=this.getTokenizer().getLineTokens(m,q);var r=p.tokens;if(r.length&&r[r.length-1].type=="comment"){return l}if(q=="start"){var n=m.match(/^.*[\{\(\[\:]\s*$/);if(n){l+=o}}return l};var k={pass:1,"return":1,raise:1,"break":1,"continue":1};this.checkOutdent=function(o,l,m){if(m!=="\r\n"&&m!=="\r"&&m!=="\n"){return false}var p=this.getTokenizer().getLineTokens(l.trim(),o).tokens;if(!p){return false}do{var n=p.pop()}while(n&&(n.type=="comment"||(n.type=="text"&&n.value.match(/^\s+$/))));if(!n){return false}return(n.type=="keyword"&&k[n.value])};this.autoOutdent=function(n,o,p){p+=1;var l=this.$getIndent(o.getLine(p));var m=o.getTabString();if(l.slice(-m.length)==m){o.remove(new b(p,l.length-m.length,p,l.length))}};this.$id="ace/mode/sh"}).call(i.prototype);f.Mode=i});