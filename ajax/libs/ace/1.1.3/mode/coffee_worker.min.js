define(function(b,a,c){var d=b("../lib/oop");var e=b("../worker/mirror").Mirror;var g=b("../mode/coffee/coffee-script");window.addEventListener=function(){};var f=a.Worker=function(h){e.call(this,h);this.setTimeout(250)};d.inherits(f,e);(function(){this.onUpdate=function(){var h=this.doc.getValue();try{g.parse(h).compile()}catch(i){var j=i.location;if(j){this.sender.emit("error",{row:j.first_line,column:j.first_column,endRow:j.last_line,endColumn:j.last_column,text:i.message,type:"error"})}return}this.sender.emit("ok")}}).call(f.prototype)});