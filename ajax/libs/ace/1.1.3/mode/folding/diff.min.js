define(function(b,a,c){var d=b("../../lib/oop");var g=b("./fold_mode").FoldMode;var f=b("../../range").Range;var e=a.FoldMode=function(i,h){this.regExpList=i;this.flag=h;this.foldingStartMarker=RegExp("^("+i.join("|")+")",this.flag)};d.inherits(e,g);(function(){this.getFoldWidgetRange=function(n,k,q){var r=n.getLine(q);var h={row:q,column:r.length};var o=this.regExpList;for(var m=1;m<=o.length;m++){var p=RegExp("^("+o.slice(0,m).join("|")+")",this.flag);if(p.test(r)){break}}for(var j=n.getLength();++q<j;){r=n.getLine(q);if(p.test(r)){break}}if(q==h.row+1){return}return f.fromPoints(h,{row:q-1,column:r.length})}}).call(e.prototype)});