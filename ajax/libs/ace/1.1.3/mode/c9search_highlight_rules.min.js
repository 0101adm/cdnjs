define(function(d,c,e){var f=d("../lib/oop");var h=d("../lib/lang");var b=d("./text_highlight_rules").TextHighlightRules;function g(j,i){try{return new RegExp(j,i)}catch(k){}}var a=function(){this.$rules={start:[{tokenNames:["c9searchresults.constant.numeric","c9searchresults.text","c9searchresults.text","c9searchresults.keyword"],regex:"(^\\s+[0-9]+)(:\\s)(.+)",onMatch:function(j,i,q){var t=this.splitRegex.exec(j);var l=this.tokenNames;var p=[{type:l[0],value:t[1]},{type:l[1],value:t[2]}];var r=q[1];var o=t[3];var k;var s=0;if(r&&r.exec){r.lastIndex=0;while(k=r.exec(o)){var n=o.substring(s,k.index);s=r.lastIndex;if(n){p.push({type:l[2],value:n})}if(k[0]){p.push({type:l[3],value:k[0]})}else{if(!n){break}}}}if(s<o.length){p.push({type:l[2],value:o.substr(s)})}return p}},{token:["string","text"],regex:"(\\S.*)(:$)"},{regex:"Searching for .*$",onMatch:function(l,j,p){var m=l.split("\x01");if(m.length<3){return"text"}var s,r,k;var n=0;var o=[{value:m[n++]+"'",type:"text"},{value:r=m[n++],type:"text"},{value:"'"+m[n++],type:"text"}];if(m[2]!==" in"){k=m[n];o.push({value:"'"+m[n++]+"'",type:"text"},{value:m[n++],type:"text"})}o.push({value:" "+m[n++]+" ",type:"text"});if(m[n+1]){s=m[n+1];o.push({value:"("+m[n+1]+")",type:"text"});n+=1}else{n-=1}while(n++<m.length){m[n]&&o.push({value:m[n],type:"text"})}if(k){r=k;s=""}if(r){if(!/regex/.test(s)){r=h.escapeRegExp(r)}if(/whole/.test(s)){r="\\b"+r+"\\b"}}var q=r&&g("("+r+")",/ sensitive/.test(s)?"g":"ig");if(q){p[0]=j;p[1]=q}return o}},{regex:"\\d+",token:"constant.numeric"}]}};f.inherits(a,b);c.C9SearchHighlightRules=a});