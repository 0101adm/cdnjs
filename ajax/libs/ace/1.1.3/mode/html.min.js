define(function(d,g,b){var i=d("../lib/oop");var e=d("./text").Mode;var n=d("./javascript").Mode;var h=d("./css").Mode;var k=d("../tokenizer").Tokenizer;var f=d("./html_highlight_rules").HtmlHighlightRules;var j=d("./behaviour/html").HtmlBehaviour;var l=d("./folding/html").FoldMode;var c=d("./html_completions").HtmlCompletions;var a=d("../worker/worker_client").WorkerClient;var m=function(o){this.fragmentContext=o&&o.fragmentContext;this.HighlightRules=f;this.$behaviour=new j();this.$completer=new c();this.createModeDelegates({"js-":n,"css-":h});this.foldingRules=new l()};i.inherits(m,e);(function(){this.blockComment={start:"<!--",end:"-->"};this.getNextLineIndent=function(q,o,p){return this.$getIndent(o)};this.checkOutdent=function(q,o,p){return false};this.getCompletions=function(p,q,r,o){return this.$completer.getCompletions(p,q,r,o)};this.createWorker=function(o){if(this.constructor!=m){return}var p=new a(["ace"],"ace/mode/html_worker","Worker");p.attachToDocument(o.getDocument());if(this.fragmentContext){p.call("setOptions",[{context:this.fragmentContext}])}p.on("error",function(q){o.setAnnotations(q.data)});p.on("terminate",function(){o.clearAnnotations()});return p};this.$id="ace/mode/html"}).call(m.prototype);g.Mode=m});