define(function(d,b,e){var g=d("../lib/oop");var a=d("./text").Mode;var c=d("../tokenizer").Tokenizer;var h=d("./gherkin_highlight_rules").GherkinHighlightRules;var f=function(){this.HighlightRules=h};g.inherits(f,a);(function(){this.lineCommentStart="#";this.$id="ace/mode/gherkin";this.getNextLineIndent=function(n,k,l){var i=this.$getIndent(k);var j="  ";var m=this.getTokenizer().getLineTokens(k,n);var o=m.tokens;console.log(n);if(k.match("[ ]*\\|")){i+="| "}if(o.length&&o[o.length-1].type=="comment"){return i}if(n=="start"){if(k.match("Scenario:|Feature:|Scenario Outline:|Background:")){i+=j}else{if(k.match("(Given|Then).+(:)$|Examples:")){i+=j}else{if(k.match("\\*.+")){i+="* "}}}}return i}}).call(f.prototype);b.Mode=f});