define(function(b,d,a){var f=b("../lib/oop");var c=b("./text").Mode;var l=b("./javascript").Mode;var e=b("./css").Mode;var i=b("../tokenizer").Tokenizer;var g=b("./twig_highlight_rules").TwigHighlightRules;var h=b("./behaviour/html").HtmlBehaviour;var j=b("./folding/html").FoldMode;var m=b("./matching_brace_outdent").MatchingBraceOutdent;var k=function(){this.HighlightRules=g;this.$outdent=new m();this.$behaviour=new h();this.createModeDelegates({"js-":l,"css-":e});this.foldingRules=new j()};f.inherits(k,c);(function(){this.blockComment={start:"{#",end:"#}"};this.getNextLineIndent=function(t,p,r){var o=this.$getIndent(p);var s=this.getTokenizer().getLineTokens(p,t);var u=s.tokens;var n=s.state;if(u.length&&u[u.length-1].type=="comment"){return o}if(t=="start"){var q=p.match(/^.*[\{\(\[]\s*$/);if(q){o+=r}}return o};this.checkOutdent=function(p,n,o){return this.$outdent.checkOutdent(n,o)};this.autoOutdent=function(n,o,p){this.$outdent.autoOutdent(o,p)};this.$id="ace/mode/twig"}).call(k.prototype);d.Mode=k});