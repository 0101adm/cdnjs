if(typeof process!=="undefined"){require("amd-loader")}define(function(f,g,d){var e=f("./range").Range;var h=f("./range_list").RangeList;var b=f("./edit_session").EditSession;var c=f("./test/assertions");function a(j){var k=[];j.ranges.forEach(function(l){k.push(l.start.row,l.start.column,l.end.row,l.end.column)});return k}function i(j,k){c.equal(""+a(j),""+k)}d.exports={name:"ACE range_list.js","test: rangeList pointIndex":function(){var j=new h();j.ranges=[new e(1,2,3,4),new e(4,2,5,4),new e(8,8,9,9)];c.equal(j.pointIndex({row:0,column:1}),-1);c.equal(j.pointIndex({row:1,column:2}),0);c.equal(j.pointIndex({row:1,column:3}),0);c.equal(j.pointIndex({row:3,column:4}),0);c.equal(j.pointIndex({row:4,column:1}),-2);c.equal(j.pointIndex({row:5,column:1}),1);c.equal(j.pointIndex({row:8,column:9}),2);c.equal(j.pointIndex({row:18,column:9}),-4)},"test: rangeList pointIndex excludeEdges":function(){var j=new h();j.ranges=[new e(1,2,3,4),new e(4,2,5,4),new e(8,8,9,9),new e(10,10,10,10)];c.equal(j.pointIndex({row:0,column:1},true),-1);c.equal(j.pointIndex({row:1,column:2},true),-1);c.equal(j.pointIndex({row:1,column:3},true),0);c.equal(j.pointIndex({row:3,column:4},true),-2);c.equal(j.pointIndex({row:4,column:1},true),-2);c.equal(j.pointIndex({row:5,column:1},true),1);c.equal(j.pointIndex({row:8,column:9},true),2);c.equal(j.pointIndex({row:10,column:10},true),3);c.equal(j.pointIndex({row:18,column:9},true),-5)},"test: rangeList add":function(){var j=new h();j.addList([new e(9,0,9,1),new e(1,2,3,4),new e(8,8,9,9),new e(4,2,5,4),new e(3,20,3,24),new e(6,6,7,7)]);c.equal(j.ranges.length,5);j.add(new e(1,2,3,5));c.range(j.ranges[0],1,2,3,5);c.equal(j.ranges.length,5);j.add(new e(7,7,7,7));c.range(j.ranges[3],7,7,7,7);j.add(new e(7,8,7,8));c.range(j.ranges[4],7,8,7,8)},"test: rangeList add empty":function(){var j=new h();j.addList([new e(7,10,7,10),new e(9,10,9,10),new e(8,10,8,10)]);c.equal(j.ranges.length,3);j.add(new e(9,10,9,10));i(j,[7,10,7,10,8,10,8,10,9,10,9,10])},"test: rangeList merge":function(){var j=new h();j.addList([new e(1,2,3,4),new e(4,2,5,4),new e(6,6,7,7),new e(8,8,9,9)]);var k=[];c.equal(j.ranges.length,4);j.ranges[1].end.row=7;k=j.merge();c.equal(k.length,1);c.range(j.ranges[1],4,2,7,7);c.equal(j.ranges.length,3);j.ranges[0].end.row=10;k=j.merge();c.range(j.ranges[0],1,2,10,4);c.equal(k.length,2);c.equal(j.ranges.length,1);j.ranges.push(new e(10,10,10,10));j.ranges.push(new e(10,10,10,10));k=j.merge();c.equal(j.ranges.length,2)},"test: rangeList remove":function(){var j=new h();var k=[new e(1,2,3,4),new e(4,2,5,4),new e(6,6,7,7),new e(8,8,9,9)];j.addList(k);c.equal(j.ranges.length,4);j.substractPoint({row:1,column:2});c.equal(j.ranges.length,3);j.substractPoint({row:6,column:7});c.equal(j.ranges.length,2)}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()};