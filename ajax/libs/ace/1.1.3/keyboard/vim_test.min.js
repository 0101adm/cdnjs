if(typeof process!=="undefined"){require("amd-loader")}define(function(j,t,b){function k(v,u){return new Array(u+1).join(v)}var a=j("./../edit_session").EditSession,o=j("./../editor").Editor,e=j("./../undomanager").UndoManager,g=j("./../test/mockrenderer").MockRenderer,c=j("./../test/assertions"),m=j("./../lib/keys"),p=j("./vim"),d,i={},f={};function s(){for(var v in m.FUNCTION_KEYS){var u=m.FUNCTION_KEYS[v];i[u]=v}}function l(u){var w=new a(u.split("\n"));var v=new e();w.setUndoManager(v);d=new o(new g(),w);d.setKeyboardHandler(p.handler)}function r(){for(var y=0;y<arguments.length;y++){var E=arguments[y];var A=E.split(/[\-]/);var z=A.pop();var v=0;for(var w in A){var u=A[w];var D=u.toLowerCase();if(m.KEY_MODS.hasOwnProperty(D)){v|=m.KEY_MODS[D]}}if(v===0){z=E}var C;if(i.hasOwnProperty(z)){C=i[z];d.onCommandKey({},v,C)}else{if(v!==0){C=z.toUpperCase().charCodeAt(0);d.onCommandKey({},v,C)}else{for(var x=0;x<z.length;x++){var B=z.charAt(x);d.onTextInput(B);d.session.$syncInformUndoManager()}}}}}function h(u){var v=d.session.toString();c.strictEqual(v,u,"Content expected: "+u+", actual: "+v)}function n(v,x){var w=d.getCursorPosition();var y=w.row;var u=w.column;c.strictEqual(y,v,"Row expected: "+v+", actual: "+y);c.strictEqual(u,x,"Column expected: "+x+", actual: "+u)}function q(z,w,y,x){var v="http://vimdoc.sourceforge.net/htmldoc/usr_"+w+".html#"+w+"."+y;var u;if(location.protocol==="file:"){u="test "+z+" (See "+v+")"}else{u='test <a href="'+v+'" target="_blank">'+z+"</a>"}f[u]=x}s();q("Insert text","02","2",function(){var u="A very intelligent turtle\nFound programming UNIX a hurdle";l("");r("i",u,"Esc");h(u);r("Esc","Esc");h(u)});q("Moving around","02","3",function(){l(" k \nh l\n j ");r("hjj");n(2,0);r("jll");n(2,2);r("lkk");n(0,2);r("khh");n(0,0)});q("Deleting characters","02","4",function(){var u="A very intelligent turtle\nFound programming UNIX a hurdle";l(u);r("xxxxxxx");h(u.substring(7));r("iA young ","Esc");h("A young intelligent turtle\nFound programming UNIX a hurdle");r("dd");h("Found programming UNIX a hurdle");r("ddiA young intelligent\nturtle","Esc","kJ");h("A young intelligent turtle")});q("Undo and Redo [PARTIAL]","02","5",function(){var v="A young intelligent turtle";l(v);r("ddu");h(v);r("0xxxxxxx");h(v.substring(7));for(var u=6;u>=0;u--){r("u");h(v.substring(u))}r("ctrl-r","ctrl-r");h(v.substring(2));v="A very intelligent turtle";r("ddi",v,"Esc");r("0wxxxxxwwxxxxxx");h("A intelligent ")});q("Other editing commands [PARTIAL]","02","6",function(){var x="and that's not saying much for the turtle.";l(x);r("$xa!!!","Esc");h(x.slice(0,-1)+"!!!");var w="A very intelligent turtle";var v="Found programming UNIX a hurdle";r("ddi",w+"\n"+v,"Esc");var u="That liked using Vim";r("ko",u,"Esc");h([w,u,v].join("\n"));r("O","Esc");h([w,"",u,v].join("\n"));r("a!!!","Esc");h([w,"!!!",u,v].join("\n"));r("hhh3x");h([w,"",u,v].join("\n"))});q("Getting out [PARTIAL]","02","7",function(){l("");r("ZZ")});q("Finding help [PARTIAL]","02","8",function(){l("");r(":help","Return");r("F1")});q("Word movement [PARTIAL]","03","1",function(){var u="This is a line with example text";l(u);r("www3w");n(0,28);r("b2b");n(0,10);r("3le");n(0,18)});q("Moving to the start or end of a line","03","2",function(){var v="     This is a line with example text";var u=v.length;l(v);r("$");n(0,36);r("0");n(0,0);r("End");n(0,36);r("Home");n(0,0);r("^");n(0,5);r("$^");n(0,5);r("ddaA young intelligent turtle\nFound programming UNIX a hurdle","Esc","k0");n(0,0);r("2$");n(1,30)});q("Moving to a character [PARTIAL]","03","3",function(){var u="To err is human.  To really foul up you need a computer.";l(k(u,2));r("fh");n(0,10);r("3fl");n(0,31);r("Fh");n(0,10);r("Fh");n(0,10);r("2tn");n(0,39);r("Th");n(0,11);r("tn");n(0,13);r(";");n(0,39);r(",");n(0,15);r("0f","Esc","w");n(0,3)});q("Matching a parenthesis","03","4",function(){var u="if (a == (b * c) / d)\nif [a == [b * c] / d]\nif {a == {b * c} / d}";l(u);r("%");n(0,20);r("%");n(0,3);r("0j%");n(1,20);r("%");n(1,3);r("0j%");n(2,20);r("%");n(2,3)});q("Moving to a specific line [PARTIAL]","03","5",function(){var u="first line of a file\n"+k("text text text text\n",8)+"last line of a file";l(u);r("7G");n(6,0);r("gg");n(0,0);r("G");n(9,0)});q("Telling where you are [PARTIAL]","03","6",function(){});q("Scrolling around [PARTIAL]","03","7",function(){});q("Simple searches [PARTIAL]","03","8",function(){var u=k("To find the word #include\n",10);l(u)});q("Simple search patterns [PARTIAL]","03","9",function(){});q("Using marks [PARTIAL]","03","10",function(){});q("Operators and motions [PARTIAL]","04","1",function(){l("To err is human. To really foul up you need a computer.");r("5wd4w");h("To err is human. you need a computer.")});q("Changing text [PARTIAL]","04","2",function(){l("To err is human")});q("Repeating a change [PARTIAL]","04","3",function(){});q("Visual mode [PARTIAL]","04","4",function(){});q("Moving text [PARTIAL]","04","5",function(){});q("Copying text [PARTIAL]","04","6",function(){});q("Using the clipboard [PARTIAL]","04","7",function(){});q("Text objects [PARTIAL]","04","8",function(){});q("Replace mode [PARTIAL]","04","9",function(){});f.name="vim_test.js";b.exports=f});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()};