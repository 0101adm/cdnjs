if(typeof process!=="undefined"){require("amd-loader")}define(function(e,d,f){var c=e("./document").Document;var a=e("./anchor").Anchor;var g=e("./range").Range;var b=e("./test/assertions");f.exports={"test create anchor":function(){var i=new c("juhu");var h=new a(i,0,0);b.position(h.getPosition(),0,0);b.equal(h.getDocument(),i)},"test insert text in same row before cursor should move anchor column":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.insert({row:1,column:1},"123");b.position(h.getPosition(),1,7)},"test insert lines before cursor should move anchor row":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.insertLines(1,["123","456"]);b.position(h.getPosition(),3,4)},"test insert new line before cursor should move anchor column":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.insertNewLine({row:0,column:0});b.position(h.getPosition(),2,4)},"test insert new line in anchor line before anchor should move anchor column and row":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.insertNewLine({row:1,column:2});b.position(h.getPosition(),2,2)},"test delete text in anchor line before anchor should move anchor column":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.remove(new g(1,1,1,3));b.position(h.getPosition(),1,2)},"test remove range which contains the anchor should move the anchor to the start of the range":function(){var i=new c("juhu\nkinners");var h=new a(i,0,3);i.remove(new g(0,1,1,3));b.position(h.getPosition(),0,1)},"test delete character before the anchor should have no effect":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.remove(new g(1,4,1,5));b.position(h.getPosition(),1,4)},"test delete lines in anchor line before anchor should move anchor row":function(){var i=new c("juhu\n1\n2\nkinners");var h=new a(i,3,4);i.removeLines(1,2);b.position(h.getPosition(),1,4)},"test remove new line before the cursor":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.removeNewLine(0);b.position(h.getPosition(),0,8)},"test delete range which contains the anchor should move anchor to the end of the range":function(){var i=new c("juhu\nkinners");var h=new a(i,1,4);i.remove(new g(0,2,1,2));b.position(h.getPosition(),0,4)},"test delete line which contains the anchor should move anchor to the end of the range":function(){var i=new c("juhu\nkinners\n123");var h=new a(i,1,5);i.removeLines(1,1);b.position(h.getPosition(),1,0)},"test remove after the anchor should have no effect":function(){var i=new c("juhu\nkinners\n123");var h=new a(i,1,2);i.remove(new g(1,4,2,2));b.position(h.getPosition(),1,2)},"test anchor changes triggered by document changes should emit change event":function(i){var j=new c("juhu\nkinners\n123");var h=new a(j,1,5);h.on("change",function(k){b.position(h.getPosition(),0,0);i()});j.remove(new g(0,0,2,1))},"test only fire change event if position changes":function(){var i=new c("juhu\nkinners\n123");var h=new a(i,1,5);h.on("change",function(j){b.fail()});i.remove(new g(2,0,2,1))},"test insert/remove lines at the end of the document":function(){var i=new c("juhu\nkinners\n123");var h=new a(i,2,4);i.removeLines(0,3);b.position(h.getPosition(),0,0);i.insertLines(0,["a","b","c"]);b.position(h.getPosition(),3,0);b.equal(i.getValue(),"a\nb\nc\n")}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()};