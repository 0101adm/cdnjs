if(typeof process!=="undefined"){require("amd-loader");require("./test/mockdom")}define(function(d,c,f){var e=d("./edit_session").EditSession;var b=d("./editor").Editor;var g=d("./test/mockrenderer").MockRenderer;var a=d("./test/assertions");f.exports={createEditSession:function(i,j){var h=new Array(j+1).join("a");var k=new Array(i).join(h+"\n")+h;return new e(k)},"test: navigate to end of file should scroll the last line into view":function(){var i=this.createEditSession(200,10);var h=new b(new g(),i);h.navigateFileEnd();var j=h.getCursorPosition();a.ok(h.getFirstVisibleRow()<=j.row);a.ok(h.getLastVisibleRow()>=j.row)},"test: navigate to start of file should scroll the first row into view":function(){var i=this.createEditSession(200,10);var h=new b(new g(),i);h.moveCursorTo(h.getLastVisibleRow()+20);h.navigateFileStart();a.equal(h.getFirstVisibleRow(),0)},"test: goto hidden line should scroll the line into the middle of the viewport":function(){var h=new b(new g(),this.createEditSession(200,5));h.navigateTo(0,0);h.gotoLine(101);a.position(h.getCursorPosition(),100,0);a.equal(h.getFirstVisibleRow(),89);h.navigateTo(100,0);h.gotoLine(11);a.position(h.getCursorPosition(),10,0);a.equal(h.getFirstVisibleRow(),0);h.navigateTo(100,0);h.gotoLine(6);a.position(h.getCursorPosition(),5,0);a.equal(0,h.getFirstVisibleRow(),0);h.navigateTo(100,0);h.gotoLine(1);a.position(h.getCursorPosition(),0,0);a.equal(h.getFirstVisibleRow(),0);h.navigateTo(0,0);h.gotoLine(191);a.position(h.getCursorPosition(),190,0);a.equal(h.getFirstVisibleRow(),179);h.navigateTo(0,0);h.gotoLine(196);a.position(h.getCursorPosition(),195,0);a.equal(h.getFirstVisibleRow(),180)},"test: goto visible line should only move the cursor and not scroll":function(){var h=new b(new g(),this.createEditSession(200,5));h.navigateTo(0,0);h.gotoLine(12);a.position(h.getCursorPosition(),11,0);a.equal(h.getFirstVisibleRow(),0);h.navigateTo(30,0);h.gotoLine(33);a.position(h.getCursorPosition(),32,0);a.equal(h.getFirstVisibleRow(),30)},"test: navigate from the end of a long line down to a short line and back should maintain the curser column":function(){var h=new b(new g(),new e(["123456","1"]));h.navigateTo(0,6);a.position(h.getCursorPosition(),0,6);h.navigateDown();a.position(h.getCursorPosition(),1,1);h.navigateUp();a.position(h.getCursorPosition(),0,6)},"test: reset desired column on navigate left or right":function(){var h=new b(new g(),new e(["123456","12"]));h.navigateTo(0,6);a.position(h.getCursorPosition(),0,6);h.navigateDown();a.position(h.getCursorPosition(),1,2);h.navigateLeft();a.position(h.getCursorPosition(),1,1);h.navigateUp();a.position(h.getCursorPosition(),0,1)},"test: typing text should update the desired column":function(){var h=new b(new g(),new e(["1234","1234567890"]));h.navigateTo(0,3);h.insert("juhu");h.navigateDown();a.position(h.getCursorPosition(),1,7)}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()};