define(function(c,b,d){var f=c("ace/lib/dom");var e=c("ace/lib/lang");var a=function(i,g){this.element=f.createElement("div");this.element.className="ace_status-indicator";this.element.style.cssText="display: inline-block;";g.appendChild(this.element);var h=e.delayedCall(function(){this.updateStatus(i)}.bind(this));i.on("changeStatus",function(){h.schedule(100)});i.on("changeSelection",function(){h.schedule(100)})};(function(){this.updateStatus=function(h){var g=[];function j(m,l){m&&g.push(m,l||"|")}if(h.$vimModeHandler){j(h.$vimModeHandler.getStatusText())}else{if(h.commands.recording){j("REC")}}var k=h.selection.lead;j(k.row+":"+k.column," ");if(!h.selection.isEmpty()){var i=h.getSelectionRange();j("("+(i.end.row-i.start.row)+":"+(i.end.column-i.start.column)+")")}g.pop();this.element.textContent=g.join("")}}).call(a.prototype);b.StatusBar=a});