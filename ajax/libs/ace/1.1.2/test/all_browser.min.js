define(function(d,h,c){d("ace/lib/fixoldbrowsers");var f=d("asyncjs").test;var e=d("asyncjs");var k=0;var m=0;var g=document.getElementById("log");var n=["ace/anchor_test","ace/background_tokenizer_test","ace/commands/command_manager_test","ace/config_test","ace/document_test","ace/edit_session_test","ace/editor_change_document_test","ace/editor_highlight_selected_word_test","ace/editor_navigation_test","ace/editor_text_edit_test","ace/ext/static_highlight_test","ace/incremental_search_test","ace/keyboard/emacs_test","ace/keyboard/keybinding_test","ace/layer/text_test","ace/lib/event_emitter_test","ace/mode/coffee/parser_test","ace/mode/coldfusion_test","ace/mode/css_test","ace/mode/css_worker","ace/mode/html_test","ace/mode/javascript_test","ace/mode/javascript_worker_test","ace/mode/logiql_test","ace/mode/python_test","ace/mode/text_test","ace/mode/xml_test","ace/mode/folding/cstyle_test","ace/mode/folding/html_test","ace/mode/folding/pythonic_test","ace/mode/folding/xml_test","ace/mode/folding/coffee_test","ace/multi_select_test","ace/occur_test","ace/range_test","ace/range_list_test","ace/search_test","ace/selection_test","ace/snippets_test","ace/token_iterator_test","ace/tokenizer_test","ace/virtual_renderer_test"];var l=["<a href='?'>all tests</a><br>"];for(var j in n){var b=n[j];l.push("<a href='?",b,"'>",b.replace(/^ace\//,""),"</a><br>")}var a=document.createElement("div");a.innerHTML=l.join("");a.style.cssText="position:absolute;right:0;top:0";document.body.appendChild(a);if(location.search){n=location.search.substr(1).split(",")}d(n,function(){var i=n.map(function(o){var p=d(o);p.href=o;return p});e.list(i).expand(function(o){return f.testcase(o)},f.TestGenerator).run().each(function(u,q){if(u.index==1&&u.context.href){var o=u.context.href;var s=document.createElement("div");s.innerHTML="<a href='?"+o+"'>"+o.replace(/^ace\//,"")+"</a>";g.appendChild(s)}var s=document.createElement("div");s.className=u.passed?"passed":"failed";var p=u.name;if(u.suiteName){p=u.suiteName+": "+u.name}var t="["+u.count+"/"+u.index+"] "+p+" "+(u.passed?"OK":"FAIL");if(!u.passed){if(u.err.stack){var r=u.err.stack}else{var r=u.err}console.error(t);console.error(r);t+="<pre class='error'>"+r+"</pre>"}else{console.log(t)}s.innerHTML=t;g.appendChild(s);q()}).each(function(o){if(o.passed){k+=1}else{m+=1}}).end(function(){g.innerHTML+=["<div class='summary'>","<br>","Summary: <br>","<br>","Total number of tests: "+(k+m)+"<br>",(k?"Passed tests: "+k+"<br>":""),(m?"Failed tests: "+m+"<br>":"")].join("");console.log("Total number of tests: "+(k+m));console.log("Passed tests: "+k);console.log("Failed tests: "+m)})})});