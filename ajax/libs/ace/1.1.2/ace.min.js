define(function(e,h,d){e("./lib/fixoldbrowsers");var g=e("./lib/dom");var b=e("./lib/event");var i=e("./editor").Editor;var a=e("./edit_session").EditSession;var c=e("./undomanager").UndoManager;var f=e("./virtual_renderer").VirtualRenderer;var j=e("./multi_select").MultiSelect;e("./worker/worker_client");e("./keyboard/hash_handler");e("./placeholder");e("./mode/folding/fold_mode");e("./theme/textmate");e("./ext/error_marker");h.config=e("./config");h.require=e;h.edit=function(n){if(typeof(n)=="string"){var k=n;var n=document.getElementById(k);if(!n){throw new Error("ace.edit can't find div #"+k)}}if(n.env&&n.env.editor instanceof i){return n.env.editor}var o=h.createEditSession(g.getInnerText(n));n.innerHTML="";var m=new i(new f(n));new j(m);m.setSession(o);var l={document:o,editor:m,onResize:m.resize.bind(m,null)};b.addListener(window,"resize",l.onResize);m.on("destroy",function(){b.removeListener(window,"resize",l.onResize)});n.env=m.env=l;return m};h.createEditSession=function(m,l){var k=new a(m,l);k.setUndoManager(new c());return k};h.EditSession=a;h.UndoManager=c});