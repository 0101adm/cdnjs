if(typeof process!=="undefined"){require("amd-loader")}define(function(e,g,c){var a=e("./edit_session").EditSession;var i=e("./mode/javascript").Mode;var d=e("./range").Range;var b=e("./test/assertions");function f(m){for(var k=0,j=m.getLength();k<j;k++){m.getTokens(k)}}function h(n,k){for(var m=0,j=n.getLength();m<j;m++){b.equal(n.bgTokenizer.states[m],k[m])}b.ok(j==k.length)}c.exports={"test background tokenizer update on session change":function(){var j=new a(["/*","*/","var juhu"]);j.setMode("./mode/javascript");f(j);h(j,["comment_regex_allowed","start","no_regex"]);j.remove(new d(0,2,1,2));h(j,[null,"no_regex"]);f(j);h(j,["comment_regex_allowed","comment_regex_allowed"]);j.insert({row:0,column:2},"\n*/");h(j,[undefined,undefined,"comment_regex_allowed"]);f(j);h(j,["comment_regex_allowed","start","no_regex"])}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()};