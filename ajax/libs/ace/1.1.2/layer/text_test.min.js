if(typeof process!=="undefined"){require("amd-loader");require("../test/mockdom")}define(function(c,b,e){var a=c("../test/assertions");var d=c("../edit_session").EditSession;var g=c("./text").Text;var f=c("../mode/javascript").Mode;e.exports={setUp:function(h){this.session=new d("");this.session.setMode(new f());this.textLayer=new g(document.createElement("div"));this.textLayer.setSession(this.session);this.textLayer.config={characterWidth:10,lineHeight:20};h()},"test: render line with hard tabs should render the same as lines with soft tabs":function(){this.session.setValue("a\ta\ta\t\na   a   a   \n");this.textLayer.$computeTabString();var i=[];this.textLayer.$renderLine(i,0);var h=[];this.textLayer.$renderLine(h,1);a.equal(i.join(""),h.join(""))},"test rendering width of ideographic space (U+3000)":function(){this.session.setValue("\u3000");var h=[];this.textLayer.$renderLine(h,0,true);a.equal(h.join(""),"<span class='ace_cjk' style='width:20px'></span>");this.textLayer.setShowInvisibles(true);var h=[];this.textLayer.$renderLine(h,0,true);a.equal(h.join(""),"<span class='ace_cjk ace_invisible' style='width:20px'>"+this.textLayer.SPACE_CHAR+"</span><span class='ace_invisible'>\xB6</span>")},"test rendering of indent guides":function(){var l=this.textLayer;var i="<span class='ace_invisible'>"+l.EOL_CHAR+"</span>";var k=function(n){return Array(n+1).join("\xa0")};var m=function(n){return Array(n+1).join(l.SPACE_CHAR)};var h=function(n){return l.TAB_CHAR+k(n-1)};function j(o){for(var n=o.length;n--;){var p=[];l.$renderLine(p,n,true);a.equal(p.join(""),o[n])}}this.session.setValue("      \n\t\tf\n   ");j(["<span class='ace_indent-guide'>"+k(4)+"</span>"+k(2),"<span class='ace_indent-guide'>"+k(4)+"</span>"+k(4)+"<span class='ace_identifier'>f</span>",k(3)]);this.textLayer.setShowInvisibles(true);j(["<span class='ace_indent-guide ace_invisible'>"+m(4)+"</span><span class='ace_invisible'>"+m(2)+"</span>"+i,"<span class='ace_indent-guide ace_invisible'>"+h(4)+"</span><span class='ace_invisible'>"+h(4)+"</span><span class='ace_identifier'>f</span>"+i,]);this.textLayer.setDisplayIndentGuides(false);j(["<span class='ace_invisible'>"+m(6)+"</span>"+i,"<span class='ace_invisible'>"+h(4)+"</span><span class='ace_invisible'>"+h(4)+"</span><span class='ace_identifier'>f</span>"+i])}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()};