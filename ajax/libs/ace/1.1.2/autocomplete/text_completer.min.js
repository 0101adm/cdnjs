define(function(c,a,d){var g=c("ace/range").Range;var e=/[^a-zA-Z_0-9\$\-]+/;function f(i,j){var h=i.getTextRange(g.fromPoints({row:0,column:0},j));return h.split(e).length-1}function b(k,m){var h=f(k,m);var l=k.getValue().split(e);var i=Object.create(null);var j=l[h];l.forEach(function(o,n){if(!o||o===j){return}var q=Math.abs(h-n);var p=l.length-q;if(i[o]){i[o]=Math.max(p,i[o])}else{i[o]=p}});return i}a.getCompletions=function(i,l,n,k,m){var j=b(l,n,k);var h=Object.keys(j);m(null,h.map(function(o){return{name:o,value:o,score:j[o],meta:"local"}}))}});