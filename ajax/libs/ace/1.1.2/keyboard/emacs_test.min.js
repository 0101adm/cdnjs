if(typeof process!=="undefined"){require("amd-loader")}define(function(d,f,c){var a=d("./../edit_session").EditSession,j=d("./../editor").Editor,i=d("./../test/mockrenderer").MockRenderer,g=d("./emacs"),b=d("./../test/assertions"),h;function e(k){var l=new a(k.split("\n"));h=new j(new i(),l);h.setKeyboardHandler(g.handler)}c.exports={"test: detach removes emacs commands from command manager":function(){e("");b.ok(!!h.commands.byName.keyboardQuit,"setup error: emacs commands not installed");h.keyBinding.removeKeyboardHandler(h.getKeyboardHandler());b.ok(!h.commands.byName.keyboardQuit,"emacs commands not removed")},"test: keyboardQuit clears selection":function(){e("foo");h.selectAll();h.execCommand("keyboardQuit");b.ok(h.selection.isEmpty(),"selection non-empty")}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()};