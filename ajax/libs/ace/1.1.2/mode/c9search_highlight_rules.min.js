define(function(d,c,e){var f=d("../lib/oop");var h=d("../lib/lang");var b=d("./text_highlight_rules").TextHighlightRules;function g(j,i){try{return new RegExp(j,i)}catch(k){}}var a=function(){this.$rules={start:[{tokenNames:["c9searchresults.constant.numeric","c9searchresults.text","c9searchresults.text","c9searchresults.keyword"],regex:"(^\\s+[0-9]+)(:\\s)(.+)",onMatch:function(j,i,q){var t=this.splitRegex.exec(j);var l=this.tokenNames;var p=[{type:l[0],value:t[1]},{type:l[1],value:t[2]}];var r=q[1];var o=t[3];var k;var s=0;if(r){r.lastIndex=0;while(k=r.exec(o)){var n=o.substring(s,k.index);s=r.lastIndex;if(n){p.push({type:l[2],value:n})}if(k[0]){p.push({type:l[3],value:k[0]})}else{if(!n){break}}}}if(s<o.length){p.push({type:l[2],value:o.substr(s)})}return p}},{token:["string","text"],regex:"(\\S.*)(:$)"},{regex:"Searching for .*$",onMatch:function(k,j,o){var l=k.split("\x01");var q=l[1];if(l.length<3){return"text"}var r=l[2]==" in"?l[5]:l[6];if(!/regex/.test(r)){q=h.escapeRegExp(q)}if(/whole/.test(r)){q="\\b"+q+"\\b"}var p=q&&g("("+q+")",/ sensitive/.test(r)?"g":"ig");if(p){o[0]=j;o[1]=p}var m=0;var n=[{value:l[m++]+"'",type:"text"},{value:l[m++],type:"text"},{value:"'"+l[m++],type:"text"}];if(l[2]!==" in"){n.push({value:"'"+l[m++]+"'",type:"text"},{value:l[m++],type:"text"})}n.push({value:" "+l[m++]+" ",type:"text"});if(l[m+1]){n.push({value:"("+l[m+1]+")",type:"text"});m+=1}else{m-=1}while(m++<l.length){l[m]&&n.push({value:l[m],type:"text"})}return n}},{regex:"\\d+",token:"constant.numeric"}]}};f.inherits(a,b);c.C9SearchHighlightRules=a});