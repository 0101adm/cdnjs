define(function(c,b,d){var f=c("../lib/oop");var a=c("./text_highlight_rules").TextHighlightRules;var e="\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)";var g="({\\d+\\b,?\\d*}|[+*?])(\\??)";var h=function(){this.$rules={start:[{token:"keyword",regex:"\\\\[bB]",next:"no_quantifier"},{token:"regexp.keyword.operator",regex:e},{token:"string.regexp",regex:"/\\w*",next:"start"},{token:["string","string.regex"],regex:g,next:"no_quantifier"},{token:"keyword",regex:"[$^]|\\\\[bB]",next:"no_quantifier"},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|[()$^+*?]/,next:"no_quantifier"},{token:"constant.language.delimiter",regex:/\|/,next:"no_quantifier"},{token:"constant.language.escape",regex:/\[\^?/,next:"character_class"},{token:"empty",regex:"$",next:"start"}],character_class:[{regex:/\\[dDwWsS]/},{token:"markup.list",regex:"(?:"+e+"|.)-(?:[^\\]\\\\]|"+e+")"},{token:"keyword",regex:e},{token:"constant.language.escape",regex:"]",next:"start"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"start"},{defaultToken:"string.regexp.charachterclass"}],no_quantifier:[{token:"invalid",regex:g},{token:"invalid",regex:"",next:"start"}]}};f.inherits(h,a);b.JsRegexHighlightRules=h});